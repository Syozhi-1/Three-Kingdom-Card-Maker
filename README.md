# Three-Kingdom-Card-Maker
三国杀卡牌制作器纯HTML版，来源贴吧，做了些小修改
## 发现的问题
卡牌技能框为固定高度，如果内容过多无法容纳
## 升级计划
- [ ] 调整技能框为动态技能框（优先国战卡牌）

# 以下是源文档MD内容：
三国杀HTML版卡牌制作器 1.7.1正式版 20240128
作者：开不了车

使用前，请先阅读此文件。
------------------------------------
【特色】
本工具是用HTML开发的，基于CSS（层叠样式表）实现的三国杀制作器。虽然效果上没有APK类制作器那么好，但能够提供较多的模板类型，将各类模板统一使用CSS编写，具有一定的普适性。无论是原版模板、国战模板还是动漫模板，甚至卡牌模板都可以写入其中。而且不仅可用于电脑端，移动端一样能使用，尽管有些方面不尽人意。
因为使用了CSS，所以所有的东西均被封装起来。例如多人武将牌中的“&”符号和花色图案，吧友常用的方式是用图片素材进行拼凑；而在这里，我们将这个符号直接制作成了字体，故在制作器中直接输入即可生成。而且在开发过程中，在模板的样式文件中直接引用字体即可用此符号替代原字体中的字模。

目前包含的模板有：（括号内为制作者）
经典模板（@低调de洛沫、@天香你妹）
经典模板（@背碗卤粉）
经典模板（自定配色）（@低调de洛沫）
经典卡牌模板（@背碗卤粉、@CoffeeNo加糖）
国战模板（@低调de洛沫）
Q版模板（@CoffeeNo加糖、@messoatheon、@梦魇狂朝）
2020DIY模板（@kaveil、@tingcongming）
桌游志·☆SP模板（@隐之行者）
桌游志·全幅模板（@低调de洛沫）
欢乐三国杀模板（@lDW郭文）
移动版模板（未知）
动漫模板（@叁拾贰の使徒）
印花模板（@lulu老公）
YL超大模板（@-西凡尔游侠-）
帝国3模板（@开不了车）
洛吧杀模板（@开不了车）
狼羊志模板（@喜灰桌游工作室）


【安装方法】
在电脑上使用时，直接将文件解压至任意目录即可。模板使用的字体需要放在fonts目录下，如果不解压的话则只有花色和额外的金梅毛草字体。
对于手机、平板电脑等移动端，则还需要下载字体补丁。补丁中的字体需放置在fonts/mobile目录下（如果压缩包中是同名的目录，则须合并，而不是同时存在两级mobile目录）。
文件务必解压，不可直接从压缩包中打开查看，否则会因为缺少模块文件而无法进行操作。
另外，移动端解压后可能会在手机的新文件中发现模板所用的图片。若影响到您手机的日常使用，可以将解压缩的目录改为以句点“.”开头，从而把它们隐藏起来。


【使用方法】
建议使用Chrome、Edge等浏览器，用浏览器打开diy.html文件。手机须从文件管理器中进入，然后打开时选择一种浏览器，而非“HTML查看器”这种只能看静态页面、不能执行脚本的应用。
之后在底部的模板集中选择模板，在左侧按照规则填入数据，并选择图像作为插画，点击“提交”即可在右边看到生成后的图像。在移动端中，屏幕右下角还会出现一个滚动按钮，若滚动不方便，点击可以在编辑界面和预览之间切换。
如需存档，您可以在页面中点击“导出为JSON”按钮，然后切换至JSON界面，就可以看到导出的JSON代码文本。将这些文本复制后即可粘贴保存起来，以备以后使用。以后需要修改并重新生成时，便可以在JSON界面直接将数据粘贴进来，然后直接编辑或者选择“导入到表单”再在表单中编辑。不过重新加载后，用户还需要重新选择图片，不过这时候已经足够了。
为了输出图像，用户需要选择缩放比例，点击“输出图片”的按钮并稍等片刻。之后就可以看到生成的结果了。对于电脑用户而言，直接右键即可保存结果图片。
而移动端需要使用移动版，电脑版目前无法在其上保存图片。根据实际情况，您可以通过点击或长按卡牌，来将其保存下来。
另外，对于卡牌模板，势力处填写花色，体力值填写点数。点数为14时，表示JOKER。若不填写花色，则生成的卡牌没有花色点数信息。

【软件配置】
您可以配置制作器能够使用的字体。首先在res/文件夹下找到“_custom.js”文件，然后复制并改名为“custom.js”，在其中增加条目即可。增加的字体既可以是系统字体，也可以是放在fonts/文件夹下的字体。


【鸣谢】
感谢三国杀DIY吧的吧友@百年东风 提供各类模板。
感谢吧友@背碗卤粉、@低调de洛沫、@叁拾贰の使徒、@kaveil 等人制作的模板。
感谢吧友@乱舞轩魂 提供的“&”符号素材。
感谢吧友@tingcongming 开发制作器提供的生僻字和DIY2020神将模板。
感谢太阳神三国杀吧吧友@叫什么啊你妹 等人的测试。
感谢喜灰桌游工作室提供的模板以及测试。


【版本更新】
v1.7.1 20240128
修正了扩展包图片变模糊的问题（感谢@uut 的反馈）。
“经典版（自定配色）”改名为“官方模版（自定配色）”。
修正了移动版稀有度图片的错位问题（感谢@uut 的反馈）。
调整了国战模板姓名的小号字偏右的问题（感谢@o乐乐乐o 的反馈）。
调整了2020模板版权的问题（感谢@NORAD★ 的反馈）。
允许用户通过配置文件修改字体（感谢@殉道者之哀伤 的建议）。

v1.7.0 20231230
增加了已损失体力+护盾同时存在的逻辑，可用“a/b+c”的形式输入，应用于大部分模板（国战、移动版、洛吧杀除外）（感谢@ZEROpsz 、@charawithdtm 等人的反馈）。
允许在武将姓名处设置字体（感谢@殉道者之哀伤 的建议）。
允许对文本不使用自动，而手动选择大、中、小、微字号（感谢@NORAD★ 的建议）。
2020版的神样式不再使用圆角（感谢@zzx517 的建议）。
修正了桌游志全幅模板的群字不显示的问题（感谢@时光的容颜 等人的反馈）。
修正了国战模板的颜色错误：君主增加了金色框、普通蜀势力不再附带金色君主框。
动漫模板的技能名最多可以8个字了。（感谢@快乐卡莲 的反馈）
自定义颜色的新UI现在可以正常表现体力了（未添加护盾图标，暂用缩小的勾玉表示）。
移动版模板的体力现在可以正常显示，并且最多能使用19体力或上限。（感谢@取不了名12 等人的反馈）

v1.6.4 20230521
添加了移动版模板，支持原势力和魏吴、蜀吴双势力。
国战模板添加了汉势力和对应的君、双势力。（@青锋得几分痛饮 的建议）
添加了“万涴媱璇垚”几个字。（前四为@lzmnb90 的反馈）

v1.6.3 20230326
添加了新UI版的自定颜色样式，并加上了渐变色样式。
部分模板设置了无称号的姓名样式。
完成了经典版的双势力模板。

v1.6.2 20230311
添加了桌游志全幅模板。
国战模板添加了与晋相关的双势力。（感谢@宿命妖火雪华 的建议）
经典版模板添加了双势力。（未完成，仅有双势力字和异色体力）

v1.6.1 20230218
增加了体力护盾机制，部分模板添加了对应样式：经典、经典（卤粉）、2020版、动漫、印花、狼羊志。其中经典和2020使用了盾牌符号，其余使用数字或缩小的原符号。（感谢@ZEROpsz 的建议）
国战模板添加了晋势力和野心家（均为紫色）样式。（感谢@沧海何沥沥 的建议）
合并了国战的体力、技能名和珠联璧合图像文件。
国战大旗样式的“令”字体改变为与官方相同。（感谢@...阿凉... 的反馈）
解决了某些平台下技能说明中花色不改变字体的问题。
更换了经典版卡牌模板的字体，现在点数、花色使用和官方一样的字形了。
经典版卡牌的身份牌在势力使用花色字符时，不再显示花色和点数。（感谢@用户_5te1p29 的反馈）
修正了引号BUG（感谢@贴吧用户_52tPKSK 等人的反馈）。
调整了界面面板的尺寸，减少了错位问题。

v1.6 20221022
添加了扩展包功能，可选文字或图片。对应的经典版、经典版自定颜色、国战、2020以及yl超大模板设置了样式。
国战模板包添加了大旗模板。
处理了yl超大模板的错位问题。
解决了经典版（包括自定义颜色）的某些平台上称号错位的问题。
经典版自定义颜色模板有了更好的着色效果。
添加了Blob URL清理机制。
添加了可作为背景的SVG模板功能。
允许用户通过<font>标签来设置不同字体。
文本长度计算时不再包括标签。

v1.5.3 20220924
经典卡牌模板增加了名称颜色额外属性。并添加了身份牌模板，支持三种图标样式。
添加了设置粗体、斜体等的工具条。
解决了模板体力值数字轮廓不随比例变化的问题。
除了卤粉经典版，其他模板的不满体力值均改成“n/m”形式，卤粉去掉了“×”号。
印花模板的体力值现在可以显示未满的，并且最大可达100。
添加了用于不同输出比例的样式变量。

v1.5.2 20220912
添加了YL超大模板（作者@-西凡尔游侠-）。
添加了白舟忍者字体，经典版及另外几个模板的势力字体优先选用此。
经典版卡牌模板可以指定牌名颜色了。
修正了2020版神将版权信息错位的问题。
修正了导入JSON时技能类型的错误。
添加了出框插画的范围变量。

v1.5.1 20220828
添加了欢乐三国杀模板（作者@lDW郭文（浅樱茶丶夜蓝））。
2020模板的技能字体从黑体改为了准圆。
统一了表单各输入框的高度。
技能输入框中技能名会显示为粗体蓝色。
添加了自动调整插画位置的功能，可以自动调整到卡牌的尺寸。
添加了运行环境检查的功能，可以在Android系统下未使用正确方式打开时进行提醒。
添加了对手机版QQ浏览器的支持。
模板元素允许通过样式对彩色文字设置默认内容。

v1.4.3 20220813
技能、引用和备注的输入框不能再调整横向宽度。
样式引用中添加了TTF格式的链接，为以后字体兼容做准备。
经典版模板增加了汉（青绿）、晋（紫色）模板。（作者@天香你妹，只使用了势力字样）
经典版模板增加了实际势力的选项，用于设置势力和体力值对应的势力。
修正了经典版模板和自定义颜色模板底部版权和插画师文字偏移的问题。
2020版的体力类型从样式选择改成了额外属性，并且可以使用经典版勾玉了。（@八雲墨° 的提议）
经典版卡牌的称号现在已经启用，被用做花色点数下方的文字。
经典版卡牌添加了自定义属性的基本牌样式，通过设置名称为杀、闪、桃、酒可以实现。（@ok只想学习 的提议）
经典版卡牌添加了自定义类型印章的锦囊牌和装备牌，且均支持横版。（@本_潇 的提议）

v1.4.2 20220806
添加了更精细的经典版模板，取代卤粉的作为默认版。（作者@低调de洛沫）
添加了金梅毛草的新字形“堇昶坂澪紬”。
国战多势力样式会将输入的每个字作为一个势力而显示。
国战珠联璧合框在置空的时候不会再显示。

v1.4.1 20220327
修改了样式中小字体的实现方式，使浏览器不必再调整最小字号。
修复了手机端生成图片的文字阴影不正确的问题。

v1.4 20220302
增加了手机版，可以直接导出图片而不需要截图再裁剪了！

v1.3.2 20220204
修正了渐变文字在内容不同时出现的错位现象。
☆SP的武将姓名有了渐变效果。
狼羊志经典版模板和十周年模板合并。
添加了金梅毛草的新字形“喵璐婭蔻”。

v1.3.1 20220131
修正了大号文字生成后下移的问题，也解决了2020版渐变势力名不显示的问题。
现在自定义颜色的经典版模板可以正常使用了。
将裁剪工具嵌入了主页面中，从而不必来回切换了。

v1.3 20220123
添加了渐变文字的功能，目前用于经典版和2020版。
标准版卡牌增加了对五个字名称的支持，说明文字居中只在文字很少时生效了。
添加了金梅毛草的新字形“鶥瑀滎淶灑”。
为了减少传输用时，不再在主文件中打包字体，请下载另外的字体包使用。

v1.2.2 20211114
经典版卡牌模板添加了神器。
国战模板添加了双势力、三势力与四势力模板。
添加了数个金梅毛草的新字形，达到104个。

v1.2.1 20211107
经典版卡牌模板添加了宝物。
修正了竖排时字母、数字等非汉字导致文字错位的问题。
添加了桌游志的☆SP模板（作者@隐之行者）。

v1.2 20211013
修正了竖排时标点符号导致文字错位的问题。
添加了印花模板（作者@lulu老公）。
添加了3个金梅毛草的新字形“顗蒿芃”。

v1.1.1 20210926
修正了技能从JSON导入超过四个技能遇到的问题。
添加了DIY2020模板的神将样式。
调整了洛吧杀和帝国3杀的技能高度问题。
添加了8个金梅毛草的新字形“軫熠仝鈺珅瑋煒繪”，并修复了其他模板不使用新字符的问题。

v1.1 20210920
允许了叠加出框插图。
添加了自定义配色的经典版模板和Q版模板。
添加了部分金梅毛草行未收录的汉字。